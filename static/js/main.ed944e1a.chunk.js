(this["webpackJsonpstar-db"]=this["webpackJsonpstar-db"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports={container:"error-indicator_container__Oc8do"}},,function(e,t,a){e.exports={app:"app_app__2Kp40",wrapper:"app_wrapper__VcaZE"}},,function(e,t,a){e.exports={container:"header_container__kaKmG"}},function(e,t,a){e.exports={image:"item-details_image__9vSt_"}},function(e,t,a){e.exports={row:"row_row___Z5xC"}},,,,,,function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),s=a(11),c=a.n(s),i=(a(20),a(21),a(15)),o=a(2),l=a.n(o),u=a(7),d=a(3),p=function e(){var t=this;Object(d.a)(this,e),this._apiBase="https://swapi.dev/api/",this._imageBase="https://starwars-visualguide.com/assets/img",this.getResourse=function(){var e=Object(u.a)(l.a.mark((function e(a){var r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(a));case 2:if((r=e.sent).ok){e.next=5;break}throw new Error("Error, status code: ".concat(r.status));case 5:return e.next=7,r.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllPeople=Object(u.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getResourse("people");case 3:return a=e.sent,e.abrupt("return",a.results.map(t._transformPerson));case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.getAllPlanets=Object(u.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("planets");case 2:return a=e.sent,e.abrupt("return",a.map(t._transformPlanet));case 4:case"end":return e.stop()}}),e)}))),this.getAllStarShips=Object(u.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("starships");case 2:return a=e.sent,e.abrupt("return",a.map(t._transformStraship));case 4:case"end":return e.stop()}}),e)}))),this.getPerson=function(){var e=Object(u.a)(l.a.mark((function e(a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("people/".concat(a));case 2:return r=e.sent,e.abrupt("return",t._transformPerson(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPersonImage=function(e){var a=e.id;return"".concat(t._imageBase,"/characters/").concat(a,".jpg")},this.getPlanetImage=function(e){var a=e.id;return"".concat(t._imageBase,"/planets/").concat(a,".jpg")},this.getStarshipImage=function(e){var a=e.id;return"".concat(t._imageBase,"/starships/").concat(a,".jpg")},this.getPlanet=function(){var e=Object(u.a)(l.a.mark((function e(a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("planets/".concat(a));case 2:return r=e.sent,e.abrupt("return",t._transformPlanet(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getStarship=function(){var e=Object(u.a)(l.a.mark((function e(a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("starships/".concat(a));case 2:return r=e.sent,e.abrupt("return",t._transformStraship(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._extractId=function(e){return e.url.match(/\/(\d+)\/$/)[1]},this._transformPlanet=function(e){return{id:t._extractId(e),name:e.name,population:e.population,rotationPeriod:e.rotation_period,diameter:e.diameter}},this._transformStraship=function(e){return{id:t._extractId(e),name:e.name,model:e.model,manufacturer:e.manufacturer,costInCredits:e.cost_in_credits,length:e.length,crew:e.crew,passengers:e.passengers,cargoCapacity:e.cargoCapacity}},this._transformPerson=function(e){return{id:t._extractId(e),name:e.name,gender:e.gender,birthYear:e.birth_year,eyeColor:e.eye_color}}},j=a(10),h=a.n(j),m=a(4),b=a(6),f=a(5),x=a(12),g=a.n(x),v=a(0),O=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return Object(v.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary",children:Object(v.jsxs)("div",{className:g.a.container,children:[Object(v.jsx)("a",{className:"navbar-brand text-info",href:"#",children:"Swapi"}),Object(v.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor01","aria-controls":"navbarColor01","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(v.jsx)("span",{className:"navbar-toggler-icon"})}),Object(v.jsx)("div",{className:"collapse navbar-collapse",id:"navbarColor01",children:Object(v.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(v.jsx)("li",{className:"nav-item active",children:Object(v.jsxs)("a",{className:"nav-link text-success",href:"#",children:["People",Object(v.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)("a",{className:"nav-link text-success",href:"#",children:"Planets"})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)("a",{className:"nav-link text-success",href:"#",children:"Starship"})})]})})]})})}}]),a}(n.a.Component),w=(a(24),function(){return Object(v.jsx)("div",{className:"spinner__container",children:Object(v.jsx)("div",{className:"loadingio-spinner-double-ring-3w8uqs4mu0u",children:Object(v.jsxs)("div",{className:"ldio-amsbxmitxuk",children:[Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{})}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{})})]})})})}),_=a(8),y=a.n(_),N=function(){return Object(v.jsxs)("div",{className:y.a.container,children:[Object(v.jsx)("h1",{className:y.a.title,children:"BOOM!"}),Object(v.jsx)("p",{className:y.a.text,children:"somethig has gone terribly wrong"}),Object(v.jsx)("p",{className:y.a.text,children:"(but we already sent droids to fix it)"})]})},P=(a(25),function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).state={planet:{},loading:!0,error:!1},e.swapiService=new p,e.onPlanetLoaded=function(t){e.setState({planet:t,loading:!1})},e.onError=function(){e.setState({loading:!1,error:!0})},e.updatePlanet(),e}return Object(m.a)(a,[{key:"updatePlanet",value:function(){var e=Math.floor(20*Math.random());this.swapiService.getPlanet(e).then(this.onPlanetLoaded).catch(this.onError)}},{key:"render",value:function(){var e=!(this.state.loading||this.state.error),t=this.state.error?Object(v.jsx)(N,{}):null,a=this.state.loading?Object(v.jsx)(w,{}):null,r=e?Object(v.jsx)(k,{planet:this.state}):null;return Object(v.jsxs)("div",{className:"card text-white bg-primary mb-3",style:{maxWidth:"100%",display:"flex",margin:"40px auto",flexDirection:"row"},children:[t,a,r]})}}]),a}(n.a.Component)),k=function(e){var t=e.planet.planet,a=t.id,r=t.name,n=t.population,s=t.rotationPeriod,c=t.diameter;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("img",{src:"https://starwars-visualguide.com/assets/img/planets/".concat(a,".jpg"),alt:"some planet"}),Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsx)("h4",{className:"card-title",children:r}),Object(v.jsxs)("p",{className:"card-text",children:["Population: ",n]}),Object(v.jsxs)("p",{className:"card-text",children:["Rotation Period: ",s]}),Object(v.jsxs)("p",{className:"card-text",children:["Diameter: ",c]})]})]})},I=P,S=a(13),C=a.n(S),D=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={item:null,image:null},e.updateItem=function(){var t=e.props.id;t&&e.props.getData(t).then((function(t){e.setState({item:t,image:e.props.getImageUrl(t)})})).catch((function(e){return console.log(e)}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.updateItem()}},{key:"componentDidUpdate",value:function(e){e.id!==this.props.id&&this.updateItem()}},{key:"render",value:function(){var e=this;if(!this.state.item)return null;var t=this.state.item,a=t.name;t.id,t.birthYear,t.gender,t.eyeColor;return Object(v.jsxs)("div",{className:"card text-white bg-primary mb-3",style:{maxHeight:300,width:"100%",marginLeft:30,display:"flex",flexDirection:"row"},children:[Object(v.jsx)("img",{src:this.state.image,alt:a,className:C.a.image}),Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsx)("h4",{className:"card-title",children:a}),n.a.Children.map(this.props.children,(function(t){return n.a.cloneElement(t,{item:e.state.item})}))]})]})}}]),a}(n.a.Component),E=(a(26),function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={itemList:null},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getData().then((function(t){return e.setState({itemList:t})}))}},{key:"renderItems",value:function(e){var t=this;return e.map((function(e){return Object(v.jsx)("a",{href:"#",className:"list-group-item list-group-item-action",onClick:function(){return t.props.onItemSelected(e.id)},children:t.props.renderItem(e)},e.id)}))}},{key:"render",value:function(){var e=this.state.itemList;if(!e)return Object(v.jsx)(w,{});var t=this.renderItems(e);return Object(v.jsx)("div",{className:"list-group",style:{maxWidth:"30rem",width:"100%"},children:t})}}]),a}(n.a.Component)),B=a(14),R=a.n(B),A=function(e){return Object(v.jsxs)("div",{className:R.a.row,children:[e.left,e.right]})},L=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={hasError:!1},e}return Object(m.a)(a,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(v.jsx)(N,{}):this.props.children}}]),a}(n.a.Component),M=function(e){var t=e.item,a=e.field,r=e.label;return console.log(t),Object(v.jsxs)("p",{children:[Object(v.jsxs)("span",{children:[r,":"]})," ",Object(v.jsx)("span",{children:t[a]})]})};var U=function(){var e=new p,t=n.a.useState(5),a=Object(i.a)(t,2),r=a[0],s=a[1],c=Object(v.jsx)(L,{children:Object(v.jsx)(E,{onItemSelected:function(e){s(e)},getData:e.getAllPeople,renderItem:function(e){return e.name}})}),o=Object(v.jsx)(L,{children:Object(v.jsxs)(D,{id:r,getData:e.getPerson,getImageUrl:e.getPersonImage,children:[Object(v.jsx)(M,{field:"gender",label:"Gender"}),Object(v.jsx)(M,{field:"eyeColor",label:"Eye Color"}),Object(v.jsx)(M,{field:"birthYear",label:"Birth Year"})]})}),l=Object(v.jsx)(L,{children:Object(v.jsxs)(D,{id:r,getData:e.getPlanet,getImageUrl:e.getPlanetImage,children:[Object(v.jsx)(M,{field:"diameter",label:"Diameter"}),Object(v.jsx)(M,{field:"population",label:"Population"}),Object(v.jsx)(M,{field:"rotationPeriod",label:"Rotation Period"})]})}),u=Object(v.jsx)(L,{children:Object(v.jsxs)(D,{id:r,getData:e.getStarship,getImageUrl:e.getStarshipImage,children:[Object(v.jsx)(M,{field:"model",label:"model"}),Object(v.jsx)(M,{field:"length",label:"length"}),Object(v.jsx)(M,{field:"costInCredits",label:"Cost"})]})});return Object(v.jsxs)("div",{className:h.a.app,children:[Object(v.jsx)(O,{}),Object(v.jsxs)("div",{className:h.a.wrapper,children:[Object(v.jsx)(I,{}),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A,{left:c,right:o}),Object(v.jsx)(A,{left:l,right:u})]})]})]})};c.a.render(Object(v.jsx)(U,{}),document.getElementById("root"))}],[[27,1,2]]]);
//# sourceMappingURL=main.ed944e1a.chunk.js.map